openapi: 3.0.1
info:
  title: eosDAC API
  description: API for running DACs
  version: 1.0.0
components: {}
servers:
  - url: https://127.0.0.1/
paths:
  /v1/dao/balance_timeline:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        block_num:
                          description: The block number
                          type: string
                        balance:
                          description: Balance at the block
                          type: string
                  count:
                    type: integer
      summary: Get timeline of token balance changes
      description: Balance Timeline
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Account to fetch
          schema:
            description: Account to fetch
            type: string
            minLength: 1
            maxLength: 12
        - name: contract
          in: query
          description: Contract
          schema:
            description: Contract
            type: string
            minLength: 1
            maxLength: 12
        - name: symbol
          in: query
          description: Token Symbol
          schema:
            description: Token Symbol
            type: string
            minLength: 1
            maxLength: 7
        - name: start_block
          in: query
          description: Start block (inclusive)
          schema:
            description: Start block (inclusive)
            type: integer
        - name: end_block
          in: query
          description: End block (inclusive)
          schema:
            description: End block (inclusive)
            type: integer
  /v1/dao/candidates:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        candidate_name:
                          type: string
                        profile:
                          type: object
                          properties:
                            givenName:
                              type: string
                            familyName:
                              type: string
                            image:
                              type: string
                            description:
                              type: string
                        custodian_end_time_stamp:
                          type: string
                          nullable: true
                        is_active:
                          type: boolean
                        is_custodian:
                          type: boolean
                        locked_tokens:
                          type: string
                        requestedpay:
                          type: string
                        total_votes:
                          type: integer
                  count:
                    type: integer
      summary: Fetch current DAC candidates
      description: Get candidates
      tags:
        - v1
      parameters:
        - name: limit
          in: query
          description: Limit result count
          schema:
            description: Limit result count
            type: integer
        - name: skip
          in: query
          description: Skip number of results
          schema:
            description: Skip number of results
            type: integer
  /v1/dao/dac_config:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  auth_threshold_high:
                    type: integer
                  auth_threshold_med:
                    type: integer
                  auth_threshold_low:
                    type: integer
                  authaccount:
                    type: string
                  initial_vote_quorum_percent:
                    type: integer
                  lockup_release_time_delay:
                    type: integer
                  lockupasset:
                    type: string
                  maxvotes:
                    type: integer
                  numelected:
                    type: integer
                  periodlength:
                    type: integer
                  requested_pay_max:
                    type: string
                  serviceprovider:
                    type: string
                  should_pay_via_service_provider:
                    type: boolean
                  tokenholder:
                    type: string
                  vote_quorum_percent:
                    type: integer
                  accounts:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        type:
                          type: integer
                  symbol:
                    type: string
      summary: Fetch current DAC configuration
      description: Fetch DAC config
      tags:
        - v1
  /v1/dao/dac_info:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get information about a particular DAC, can supply either a dac_id or a symbol to query for.  This API call does not need an X-DAC-Name header
      description: Fetch DAC information
      tags:
        - v1
  /v1/dao/financial_reports:
    get:
      responses:
        '200':
          description: Default Response
      summary: Given a start and end date (and optional account), will return opening and closing balances as well as income and expenditure
      description: Financial Reports
      tags:
        - v1
      parameters:
        - name: account
          in: query
          description: Account to fetch
          schema:
            description: Account to fetch
            type: string
            minLength: 1
            maxLength: 12
        - name: start
          in: query
          required: true
          description: Start Date
          schema:
            description: Start Date
            type: integer
        - name: end
          in: query
          required: true
          description: End Date
          schema:
            description: End Date
            type: integer
  /v1/dao/msig_proposals:
    get:
      responses:
        '200':
          description: Default Response
      summary: Fetch current msig proposals
      description: Fetch msig proposals
      tags:
        - v1
      parameters:
        - name: status
          in: query
          description: Filter by current status (0=cancelled, 1=open, 2=executed, 3=expired)
          schema:
            description: Filter by current status (0=cancelled, 1=open, 2=executed, 3=expired)
            type: integer
            enum:
              - 0
              - 1
              - 2
              - 3
        - name: limit
          in: query
          description: Limit result count (1-100)
          schema:
            description: Limit result count (1-100)
            type: integer
            maximum: 100
            minimum: 1
        - name: skip
          in: query
          description: Skip number of results
          schema:
            description: Skip number of results
            type: integer
        - name: proposer
          in: query
          description: Filter by proposing account
          schema:
            description: Filter by proposing account
            type: string
        - name: proposal_name
          in: query
          description: Filter by proposal name
          schema:
            description: Filter by proposal name
            type: string
  /v1/dao/{dacId}/profile:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        account:
                          description: ''
                          type: string
                          minLength: 1
                          maxLength: 12
                        block_num:
                          description: ''
                          type: integer
                        member_type:
                          description: Type of member
                          type: integer
                        profile:
                          description: ''
                          type: object
                          properties:
                            description:
                              type: string
                            email:
                              type: string
                            familyName:
                              type: string
                            gender:
                              type: string
                            givenName:
                              type: string
                            image:
                              type: string
                            sameAs:
                              type: array
                              items:
                                type: object
                                properties:
                                  link:
                                    type: string
                            timezone:
                              type: string
                            url:
                              type: string
                  count:
                    type: integer
      summary: Fetches the user profile for a member
      description: Get user profile
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Account to fetch, you can supply multiple accounts by separating them with a comma
          schema:
            description: Account to fetch, you can supply multiple accounts by separating them with a comma
            type: string
        - name: dacId
          in: path
          required: true
          description: Organization name
          schema:
            type: string
            description: Organization name
  /v1/dao/proposals:
    get:
      responses:
        '200':
          description: Default Response
      summary: Fetch current worker proposals
      description: Fetch worker proposals
      tags:
        - v1
      parameters:
        - name: status
          in: query
          description: Filter by status, for multiple separate with a comma
          schema:
            description: Filter by status, for multiple separate with a comma
            type: string
        - name: arbitrator
          in: query
          description: Filter by arbitrator
          schema:
            description: Filter by arbitrator
            type: string
        - name: proposer
          in: query
          description: Filter by proposer
          schema:
            description: Filter by proposer
            type: string
        - name: limit
          in: query
          description: Limit result count
          schema:
            description: Limit result count
            type: integer
        - name: skip
          in: query
          description: Skip number of results
          schema:
            description: Skip number of results
            type: integer
  /v1/dao/member:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get information about a member, including token balances, profile and votes
      description: Get member information
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Account to fetch, you can supply multiple accounts by separating them with a comma
          schema:
            description: Account to fetch, you can supply multiple accounts by separating them with a comma
            type: string
  /v1/dao/member_counts:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get count of members and the agree terms version
      description: Member Count
      tags:
        - v1
      parameters:
        - name: end_block
          in: query
          description: End block (inclusive)
          schema:
            description: End block (inclusive)
            type: integer
  /v1/dao/member_snapshot:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        account:
                          description: The EOS account name
                          type: string
                        balance:
                          description: Balance at time of snapshot
                          type: array
                          items:
                            type: string
                        terms:
                          description: Version of the terms agreed to
                          type: integer
                        zero_balance:
                          description: Member has a zero balance
                          type: boolean
                        voter:
                          description: Member is voting
                          type: boolean
                  count:
                    type: integer
      summary: Get snapshot of DAC members at a specific block
      description: Member Snapshot
      tags:
        - v1
      parameters:
        - name: contract
          in: query
          description: Token Contract
          schema:
            description: Token Contract
            type: string
        - name: symbol
          in: query
          description: Token Symbol
          schema:
            description: Token Symbol
            type: string
        - name: block_num
          in: query
          description: 'Block number (optional) - default: head'
          schema:
            description: 'Block number (optional) - default: head'
            type: integer
  /v1/dao/my_dacs:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get a list of all DACs that this account is a member of
      description: My DACs
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Filter by account
          schema:
            description: Filter by account
            type: string
  /v1/dao/proposals_counts:
    get:
      responses:
        '200':
          description: Default Response
      summary: Gets counts for all proposals, grouped by status
      description: Fetch worker proposals counts
      tags:
        - v1
      parameters:
        - name: account
          in: query
          description: Filter by account
          schema:
            description: Filter by account
            type: string
  /v1/dao/proposals_inbox:
    get:
      responses:
        '200':
          description: Default Response
      summary: Gets a list of worker proposals which require a particular users attention
      description: Fetch worker proposals inbox
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Filter by account
          schema:
            description: Filter by account
            type: string
        - name: limit
          in: query
          description: Limit result count
          schema:
            description: Limit result count
            type: integer
        - name: skip
          in: query
          description: Skip number of results
          schema:
            description: Skip number of results
            type: integer
  /v1/dao/referendums:
    get:
      responses:
        '200':
          description: Default Response
      summary: Fetch referendums
      description: Get referendums
      tags:
        - v1
      parameters:
        - name: status
          in: query
          description: Status of referendum
          schema:
            description: Status of referendum
            type: integer
        - name: limit
          in: query
          description: Limit number of results
          schema:
            description: Limit number of results
            type: integer
        - name: skip
          in: query
          description: Skip number of results
          schema:
            description: Skip number of results
            type: integer
  /v1/dao/state:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get current state variables
      description: Get State
      tags:
        - v1
  /v1/dao/tokens_owned:
    get:
      responses:
        '200':
          description: 'success response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        contract:
                          description: Token Contract
                          type: string
                        symbol:
                          description: Token Symbol
                          type: string
                        precision:
                          description: Token Precision
                          type: integer
                        name:
                          description: Token Name
                          type: string
                        logo:
                          description: Logo URL
                          type: string
                        logo_lg:
                          description: Logo URL (Large)
                          type: string
                  count:
                    type: integer
      summary: Get list of tokens owned by a particular account
      description: Tokens Owned
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Account to fetch
          schema:
            description: Account to fetch
            type: string
            minLength: 1
            maxLength: 12
  /v1/dao/transfers:
    get:
      responses:
        '200':
          description: Default Response
      summary: Transfers for the token of the current DAC
      description: Transfers
      tags:
        - v1
  /v1/dao/voters:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get voters for a particular candidate
      description: Get Voters
      tags:
        - v1
      parameters:
        - name: candidate
          in: query
          required: true
          description: Filter by candidate account
          schema:
            description: Filter by candidate account
            type: string
  /v1/dao/votes_timeline:
    get:
      responses:
        '200':
          description: Default Response
      summary: Get timeline of votes for a particular account
      description: Votes Timeline
      tags:
        - v1
      parameters:
        - name: account
          in: query
          required: true
          description: Account to fetch
          schema:
            description: Account to fetch
            type: string
        - name: start_block
          in: query
          description: Start block (inclusive)
          schema:
            description: Start block (inclusive)
            type: integer
        - name: end_block
          in: query
          description: End block (inclusive)
          schema:
            description: End block (inclusive)
            type: integer
